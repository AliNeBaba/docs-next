---
badges:
  - breaking
---

# Унификация слотов <MigrationBadges :badges="$frontmatter.badges" />

## Обзор

Изменение унифицирует обычные и слоты с ограниченной областью видимости в 3.x.

Вот краткое описание изменений:

- `this.$slots` теперь выставляет слоты как функции
- **КАРДИНАЛЬНОЕ ИЗМЕНЕНИЕ:** `this.$scopedSlots` удалено

Для получения дополнительной информации читайте дальше!

## Синтаксис в 2.x

Когда используется render-функция, т.е. `h`, в версии 2.x требуется определять свойство `slot` на узлах содержимого.

```js
// Синтаксис в 2.x
h(LayoutComponent, [
  h('div', { slot: 'header' }, this.header),
  h('div', { slot: 'content' }, this.content)
])
```

Кроме того, при обращении к слотам с ограниченной областью видимости, на них можно сослаться с помощью следующего синтаксиса:

```js
// Синтаксис в 2.x
this.$scopedSlots.header
```

## Синтаксис в 3.x

В 3.x слоты определяются как дочерние элементы текущего узла в качестве объекта:

```js
// Синтаксис в 3.x
h(LayoutComponent, {}, {
  header: () => h('div', this.header),
  content: () => h('div', this.content)
})
```

А когда нужно программно сослаться на слот с ограниченной областью видимости, то теперь они доступны в опции `$slots`.

```js
// Синтаксис в 2.x
this.$scopedSlots.header

// Синтаксис в 3.x
this.$slots.header()
```

## Стратегия миграции

Большая часть изменений уже была опубликована с версией 2.6. В результате миграция может быть выполнена в два шага:

1. Заменить все вхождения `this.$scopedSlots` на `this.$slots` в 3.x.
2. Заменить все вхождения `this.$slots.mySlot` на `this.$slots.mySlot()`
